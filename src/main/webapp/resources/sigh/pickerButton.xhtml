<ui:composition xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:cc="http://java.sun.com/jsf/composite"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:sigh="http://java.sun.com/jsf/composite/sigh">
	<cc:interface>
		<cc:attribute name="resultValue"
			default="#{cc.attrs.pickerField.formmatedSelectedOption}" />
		<cc:attribute name="panelId" default="#{cc.attrs.pickerField.id}" />
		<cc:attribute name="reRenderRegionId" default="" />
		<cc:attribute name="pickerField"
			type="py.una.med.base.dynamic.forms.PickerField" />
		<cc:attribute name="chooseButtonOnComplete"
			default="RichFaces.$('#{cc.attrs.pickerField.popUpClientID}').show(); return false;" />
		<cc:attribute name="chooseButtonAction"
			default="#{cc.attrs.pickerField.emptyMethod()}"
			method-signature="java.lang.String action()" />
		<cc:attribute name="chooseButtonRender" />
		<cc:attribute name="valueButtonChoose"
			default="#{msg['COMPONENT_PICKER_CHOOSE']}"></cc:attribute>
	</cc:interface>

	<cc:implementation>
		<h:panelGroup id="#{cc.attrs.panelId}">
			<sigh:pickerUpdater pickerField="#{cc.attrs.pickerField}" />
			<h:inputText id="valueId" value="#{cc.attrs.pickerField.code}"
				rendered="#{cc.attrs.pickerField.hasCodeInput}"
				disabled="#{cc.attrs.pickerField.buttonDisabled}">
				<a4j:ajax event="blur"
					listener="#{cc.attrs.pickerField.keyUpListener}"
					disabled="#{not cc.attrs.pickerField.hasCodeInput}"
					render="#{cc.attrs.panelId} #{cc.attrs.pickerField.idMessage} #{cc.attrs.reRenderRegionId}"
					execute="valueId" immediate="true" />
			</h:inputText>
			<a4j:commandButton disabled="#{cc.attrs.pickerField.buttonDisabled}"
				action="#{cc.attrs.chooseButtonAction}"
				onclick="#{cc.attrs.chooseButtonOnComplete}"
				render="#{cc.attrs.chooseButtonRender}"
				value="#{cc.attrs.valueButtonChoose}" immediate="true" />
			<h:outputLabel value="#{cc.attrs.resultValue}"
				style="text-transform:none" />
		</h:panelGroup>
	</cc:implementation>
</ui:composition>
